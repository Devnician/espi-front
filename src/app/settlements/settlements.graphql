query AutoSuggestSettlements($condition: settlements_bool_exp!) {
  settlements(where: $condition) {
    id
    name
    isMunicipality
    parentId
  }
  # settlements_aggregate(where: {
  #     _and: [{ isMunicipality: {  _eq: true } }, {name:{_ilike:$name}}]
  #   }){aggregate{count}}
}

query GetDistricts {
  settlements(where: { parentId: { _is_null: true } }) {
    ...SettlementsBaseFields

    settlements_aggregate {
      aggregate {
        count
      }
    }
  }
}

fragment SettlementsBaseFields on settlements {
  id
  parentId
  name
  isMunicipality
}
